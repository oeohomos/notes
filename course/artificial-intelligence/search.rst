========================================
搜尋 （Search）
========================================

許多問題可以被看成搜尋問題！


.. contents:: 目錄


搜尋品質
========================================

* 有解時一定會找到 （Complete）
* 最佳解 （Optimal）


搜尋效率
========================================

* 時間複雜度
* 空間複雜度


常見搜尋演算法
========================================

非啟發式搜尋（Weak、Uninformed）

* 廣度優先搜尋 （Breadth-first search）
* 深度優先搜尋 （Depth-firth search）
* Depth-limited search
* Iterative Deepening search
* Bidirectional search
* Uniform cost search

啟發式搜尋（Heuristic、Informed）

* Greedy Best‐first search
* A* search
* Iterative‐deepening A* (IDA*) search

區域搜尋（Local）

* Hill‐climbing Search (Greedy local search)
* Stochastic hill‐climbing
* Random‐restart hill‐climbing
* Local Beam Search
* Simulated Annealing

遊戲搜尋（Game）

* Minimax Search
* α-β pruning
* Cutting Off Search
* Quiescent Search


廣度優先搜尋（BFS）
------------------------------

:時間複雜度: O(bᵈ⁺¹)
:空間複雜度: O(bᵈ⁺¹)
:有解時一定會找到: 是
:最佳解: 否，除非 Cost 跟路徑長度呈現單調遞增函數（愈淺愈好）
:受困於不斷重複（循環）的點: 否
:受困於無限深的搜尋空間: 否
:暫存區: Queue
:適合情況: 分支少且有深度淺的解法


深度優先搜尋（DFS）
------------------------------

:時間複雜度: O(bᵐ)
:空間複雜度: O(b m)
:有解時一定會找到: 否，除非搜尋空間有限且沒有循環
:最佳解: 否
:受困於不斷重複（循環）的點: 是
:受困於無限深的搜尋空間: 可能
:暫存區: Stack
:適合情況: 有許多解在不知道的深度




b: avg branching factor, d: goal depth, m: max depth

+-----+----------------------------------------+
| BFS | Breadth-First Search                   |
+-----+----------------------------------------+
| UCS | Uniform-Cost Search                    |
+-----+----------------------------------------+
| DFS | Depth-First Search                     |
+-----+----------------------------------------+
| DLS | Depth-Limited Search                   |
+-----+----------------------------------------+
| IDS | Iterative Deepening Depth-First Search |
+-----+----------------------------------------+
| BS  | Bidirectional Search                   |
+-----+----------------------------------------+

+----------+-------------------------------------------------+------------------------+--------------+
|          | BFS                                             | UCS                    | DFS          |
+----------+-------------------------------------------------+------------------------+--------------+
| Cost     | 視為都一樣                                      | Path Cost              | 視為都一樣   |
+----------+-------------------------------------------------+------------------------+--------------+
| Time     | O(bᵈ⁺¹)                                         | O(b^(C/e))             | O(b^m)       |
+----------+-------------------------------------------------+------------------------+--------------+
| Space    | O(bᵈ⁺¹)                                         | O(b^(C/e))             | O(bm)        |
+----------+-------------------------------------------------+------------------------+--------------+
| Complete | 是 (有限深度下)                                 | 是 (Cost 都大於零時)   | 否           |
+----------+-------------------------------------------------+------------------------+--------------+
| Optimal  | 當 Cost 跟路徑長度呈現單調遞增函數時 (愈淺愈好) | 是 (Cost 都不小於零時) | 否           |
+----------+-------------------------------------------------+------------------------+--------------+
|          |                                                 | 類似 BFS               | Backtracking |
+----------+-------------------------------------------------+------------------------+--------------+

+----------+------------+---------------------------------------------+
|          | DLS        | IDS                                         |
+----------+------------+---------------------------------------------+
| Cost     | 視為都一樣 | 視為都一樣                                  |
+----------+------------+---------------------------------------------+
| Time     | O(b^l)     | O(bᵈ)                                       |
+----------+------------+---------------------------------------------+
| Space    | O(bl)      | O(bd)                                       |
+----------+------------+---------------------------------------------+
| Complete | 否         | 是 (有限深度下)                             |
+----------+------------+---------------------------------------------+
| Optimal  | 否         | 當 Cost 跟深度呈現單調遞增函數時 (愈淺愈好) |
+----------+------------+---------------------------------------------+
|          |            |                                             |
+----------+------------+---------------------------------------------+

+----------+------------------------------------------------+
|          | BS                                             |
+----------+------------------------------------------------+
| Cost     | 視為都一樣                                     |
+----------+------------------------------------------------+
| Time     | O(b^(d/2))                                     |
+----------+------------------------------------------------+
| Space    | O(b^(d/2))                                     |
+----------+------------------------------------------------+
| Complete | 是 (使用 BFS 時)                               |
+----------+------------------------------------------------+
| Optimal  | 是 (使用 BFS 且 Cost 跟步數呈現單調遞增函數時) |
+----------+------------------------------------------------+
|          | 雙向 BFS，操作要必須可以反向                   |
+----------+------------------------------------------------+



+------------+--------------+---------------------------------------------------------------+------+
|            | Best-First   | A*                                                            | IDA* |
+------------+--------------+---------------------------------------------------------------+------+
| Cost       |              | 包含已花費的 Path Cost 和預估的 Path Cost                     |      |
+------------+--------------+---------------------------------------------------------------+------+
| Time       | O(b^m)       |                                                               |      |
+------------+--------------+---------------------------------------------------------------+------+
| Space      | O(b^m)       |                                                               |      |
+------------+--------------+---------------------------------------------------------------+------+
| Complete   | 否           | 是 (如果 f(n) 呈單調遞增)                                     |      |
+------------+--------------+---------------------------------------------------------------+------+
| Optimal    | 否           | 是 (如果 f(n) 呈單調遞增，且估計 cost 都小於等於實際 cost)    |      |
+------------+--------------+---------------------------------------------------------------+------+
| sort NODES |              | f(n) = g(n) + h(n)                                            |      |
+------------+--------------+---------------------------------------------------------------+------+
|            | Backtracking |                                                               |      |
+------------+--------------+---------------------------------------------------------------+------+

+------------+
|            | Greedy Best-First
+------------+
| Cost       |
+------------+
| Time       | O(b^m)
+------------+
| Space      | O(b^m)
+------------+
| Complete   | 否
+------------+
| Optimal    | 否
+------------+
| sort NODES | f(n) = h(n)
+------------+
|            |
+------------+

Special Cases of Best-First Search：

+-------+----------------+-------------------+---------------+----------------+----------------+
|       | A*             | DFS               | BFS           | Greedy         | UCS            |
+=======+================+===================+===============+================+================+
| g     | cost thus far  | 0                 | previous cost | 0              | cost thus far  |
+-------+----------------+-------------------+---------------+----------------+----------------+
| h     | estimate cost  | 1/(previous cost) | 0             | estimate cost  | 0              |
+-------+----------------+-------------------+---------------+----------------+----------------+
| NODES | priority queue | stack             | queue         | priority queue | priority queue |
+-------+----------------+-------------------+---------------+----------------+----------------+

* Greedy
    - 選覺得比較近的路
* UCS
    - 選累積路程少的
* A*
    - 選覺得比較近的路且選累積路程少的


* g(n)：目前已累積的 cost
* h(n)：估計該點到終點的 cost
